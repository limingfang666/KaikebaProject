# 第十四章 异步处理专题



## 课前准备

- 工具
  - 编辑器 VSCode
  - 浏览器 Chorme
- 前置知识
  - ES6基础语法

## 课堂主题

讲解promise 和 async、await

## 课堂目标

理解并学会使用promise使用方式以及async 、await的使用

## 知识点

- 同步和异步
  
  -  同步和异步是一种消息通知机制
  
    ​    同步: A调用B，B处理获得结果，才返回给A。A在这个过程中，一直等待B的处理结果，没有拿到结果之前，需要A（调用者）一直等待和确认调用结果是否返回，拿到结果,然后继续往下执行。
  
    ​        做一件事，没有拿到结果之前，就一直在这等着，一直等到有结果了,再去做下边的事
  
    ​    异步: A调用B，无需等待B的结果，B通过状态，通知等来通知A或回调函数来处理。
  
    ​        做一件事，不用等待事情的结果，然后就去忙别的了，有了结果，再通过状态来告诉我，或者通过回调函数来处理。
  
- ES6  Promise 对象
  
  - ES6的Promise对象是一个构造函数，用来生成Promise实例。
    所谓Promise对象，就是代表了未来某个将要发生的事件（通常是一个异步操作）。
    它的好处在于，有了Promise对象，就可以将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数
  - pending 、resolve 和 reject  
  - then 方法 和 try/catch - 图片加载
  - then的返回值，会返回一个新的 Promise 对象, 但是状态会有几种情况:
    - then 的回调函数中没有返回值，then就会返回一个状态为: resolved 的 promise 对象
    - then 的回调函数返回值是 非 promise 的值, then就会返回一个状态为: resolved 的 promise 对象，另外会把返回值，传递给 下一个 then
    - then 的回调函数返回值是 promise 对象，then 就直接返回这个  promise 对象，具体的状态可以由我们自己定义,具体传递的值，也由我们自己定义
  
- Async 函数 和 await 

   Promise 下的方法：resolve、reject、all、race

## 课堂案例

- 案例：基于 Promise 封装的链式动画实现

## 扩展点

​	关于回调地狱的概念

​	案例：无限级下拉菜单（递归实现）

## 总结

1. 同步和异步
2. Promise 写法
3. Async 和 await 写法



## 下节课预告

1. DOM及基本操作
2. DOM关系
3. DOM节点操作





