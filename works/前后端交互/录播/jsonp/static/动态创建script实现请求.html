<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动态创建script实现请求</title>
</head>
<body>
    <button>发送请求</button>
    <script>
        // 客户端定义回调函数
        function cbfn(param){
            console.log(param);
        }

        let btn = document.querySelector("button");
        btn.onclick = function(){
            //点击button时，动态创建script标签
            let spt = document.createElement("script");
            spt.src = "http://localhost:4000/getInfo?cb=cbfn";
            // 将创建的script标签append到head标签中
            document.querySelector("head").appendChild(spt);

            // // 异步问题解决方式一：
            // spt.onload = function(){
            //     console.log(a);
            // }
        }
        
    </script>
</body>
</html>